# Web 2주차 과제(B) - 2025350048/스마트보안학부/장준현

compose 파일이 있는 디렉토리에서 docker-compose up -d 명령을 통해 도커 생성 후,
http://localhost:3000 으로 서비스 접속.

클라이언트측 도커 파일은 nginx 웹서버를 이용하는 배포용 버젼과 
vite 개발 서버를 이용하는 개발용 버젼 두가지가 존재하나,
과제 제출이라는 목적을 생각해 개발용 버젼, 3000번 포트를 사용함.

과제의 기본 틀에 맞춰 MERN + socket.io 를 이용한 채팅 앱을 만들었고,
고유 ID를 이용한 사용자 검색 및 친구 추가, 프로필 이미지 변경 기능을 추가함.

사용자 인증 상태는 액세스 토큰, 리프레시 토큰으로 관리되는데,
액세스 토큰의 경우 로그인 시 세션 스토리지에 저장되며 유효 시간이 15분으로 짧게 설정됨.
이 토큰은 매 서버로의 api 요청 시마다 그 값이 헤더에 담겨 전송되어 
인증 미들웨어에서 유효성을 판단, 요청자를 인식함.

리프레시 토큰의 경우 로그인 시 쿠키에 저장되며 유효 기간이 7일로 길게 설정됨.
이때 쿠키에는 HttpOnly 설정이 적용되어 자바스크립트를 통한 접근을 차단하고,
액세스 토큰이 만료된 경우 서버측에서 리프레시 토큰을 통해 액세스 토큰을 재발급.

다만 리프레시 토큰이 쿠키에 저장되기 때문에 하나의 브라우저에서 여러개의 탭을 띄워
서로 다른 사용자로 로그인이 된 상태라면, 액세스 토큰을 재발급하는 과정에서
각 사용자의 인증 상태, 데이터 등이 꼬이는 문제가 있어
위와 같은 테스트 환경에서는 이를 유념해야함.
